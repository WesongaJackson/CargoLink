{% extends "Main_app/base.html" %}
{% load crispy_forms_filters %}
{% load humanize %}
{% load static %}{% block title %}
   |Home
{% endblock %}

{% block content %}
    <style>
        .asteriskField {
            display: none;
        }

        .card {
            transition: transform 0.2s ease-in-out;
        }

        .card:hover {
            transform: scale(1.05);
        }

    </style>



    {% include 'Main_app/navbar.html' %}
<div class="container-fluid mt-80">
    <div class="row">
        <div class="col-md-12">
            <form action="{% url 'search' %}" method="get" class="form-inline">
                {% csrf_token %}


                <div class="col-md-2 mb-2">
                    {{ form.location|as_crispy_field }}
                </div>
                <div class="col-md-2 mb-2">
                    {{ form.type|as_crispy_field }}
                </div>
                <div class="col-md-2 mb-2">
                    {{ form.model|as_crispy_field }}
                </div>
                <div class="col-md-2 mb-2">
                    {{ form.for_hire_or_sell|as_crispy_field }}
                </div>
                <div class="col-md-2 mb-2">
                    {{ form.price|as_crispy_field }}
                </div>
                <div class="col-md-2 mb-2">
                    <button type="submit" class="btn btn-dark w-100">Search</button>
                </div>

            </form>
        </div>
    </div>
</div>
    <div class="w-50 justify-content-center mx-auto">{% include "Main_app/alerts.html" %}</div>





    <!-- latest news -->
    <div class="latest-news mt-5 mb-5">
        <div class="m-4">
            <div class="row ">
                {% for vehicle in vehicles %}

                    <div class=" col-md-4 col-sm-12 overflow-hidden mb-4">
                        <div class="card rounded-0 shadow w-100 ">
                            <img src="{{ vehicle.image.url }}" height=300 class=" card-img-top   mx-auto d-block ">
                              <h5 class="text-center ">{{ vehicle.name|title }} </h5>
                            <h5 class="text-center ">Vehicle Model : {{ vehicle.model|title }} </h5>
                            <h5 class=" text-center">Vehicle Type : {{ vehicle.type |title }}</h5>
                            <h6 class=" text-center mb-2">Price : Ksh.{{ vehicle.price | intcomma }}</h6>
                            <p class="card-text text-center mb-2">
                                <span><i class="fas fa-map marker"></i> {{ vehicle.location|title }}</span>
                                <span><i
                                        class="fas fa-bussiness-time"></i>For- {{ vehicle.for_hire_or_sell|title }}</span>

                            </p>
                            <a href="{% url 'details' pk=vehicle.pk %}"
                               class="btn btn-dark rounded-0 w-50 mx-auto  my-3">Book</a>

                        </div>
                    </div>



                {% endfor %}
            </div>
        </div>
        <div class="row">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 text-center">
                        <div class="pagination-wrap">
                            <ul>
                                {% if vehicles.has_previous %}
                                    <li class="page-item">
                                        <a
                                           href='?page={{ vehicles.previous_page_number }}'>Previous</a>
                                    </li>
                                {% else %}
                                    <li class="page-item disable">
                                        <a href='' tabindex="-1" aria-disabled="True">Previous</a>
                                    </li>
                                {% endif %}

                                {% if vehicles.has_next %}
                                    <li >
                                        <a  href='?page={{ vehicles.next_page_number }}'>Next</a>
                                    </li>
                                {% else %}
                                    <li class="page-item disable" >
                                        <a  href='' tabindex="-1" aria-disabled="True">Next</a>
                                    </li>
                                {% endif %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- end latest news -->

    {% include 'Main_app/footer.html' %}

{% endblock %}